# なにこれ?

ここから遊べる
http://simiraaaa.github.io.altjstest/

AltJSを作ってみたかったので、作った。
主に演算子オーバーロードが実装したかった。
しかし、pegjsで出力したparserは思いの外、速度が遅いので、実用的かどうか微妙。

# 構文

JavaScriptそのものをオーバーロードしたような言語なので、基本的にJSをそのまま書いても動く。

追加した構文は以下の通り

- `#` (function)
- `@` (this)
- `演算子:` (演算子オーバーロードを使用する)
 
## example
 
```
# func1(a, b, c){
  return a + b + c;
}

var func2 = function(a, b, c){
  return func1(a, b, c);
};

var obj = {
  //演算子オーバーロードはこうやって定義する
  '+': #(v){
    @value += v;
    return @;
  },
  value: 1
};

obj +: 2;
console.log(obj);
 
```

## 演算子オーバーロードの優先順位

`+` と `*` の間

`*/% > overload > +-`

つまり、 `*`をオーバーロードして `*:` を使っても `*` より優先順位は下で、 `+:` と優先順位は同じ

## issue

よくわからないままゴリ押しで作ったので、色々バグが有ったりする。
演算子オーバーロードや `@` を使った構文を使用したとき、末尾に `;` をつけないと正常にコンパイルされないことがある。

